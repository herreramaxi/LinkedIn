<!DOCTYPE html>
<html>
<head>
    <title>LinkedIn - TestApp</title>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://platform.linkedin.com/in.js">
        api_key: 7883fei2khauib
        onLoad: onLinkedInLoad
        authorize: true
        lang: en_US
    </script>

    <script type="text/javascript">

        // Setup an event listener to make an API call once auth is complete
        function onLinkedInLoad() {
            IN.Event.on(IN, "auth", getProfileData);
        }

        // Handle the successful return from the API call
        var profile="";
        function onSuccess(data) {
            console.log(data);
            profile = data;
            var url = data.siteStandardProfileReques.url;
            $('#data').load(url);
        }

        // Handle an error response from the API call
        function onError(error) {
            console.log(error);
        }

        // Use the API call wrapper to request the member's basic profile data
        function getProfileData() {
            IN.API.Raw("/people/~").result(onSuccess).error(onError);
        }

        function getProfileDataId() {
            IN.API.Raw("/people/id=FniM8GrLGu").result(onSuccess).error(onError);
        }

        var fields = ['first-name', 'last-name', 'email-address', 'location', 'positions', 'specialties', 'summary','industry','picture-url','site-standard-profile-request','api-standard-profile-request','public-profile-url'];
        function onLinkedInAuth() {
            IN.API.Profile("me").fields(fields).lang("en-US").result(function(data) {
                console.log(data);
            }).error(function(data) {
                console.log(data);
            });
        };

        var getProfile2= function(){
            var url= "https://crossorigin.me/https://www.linkedin.com/in/maximiliano-herrera-bocchicchio-79bba615/en"              

            $('h1').load(url);
        }

        var getProfile = function () {
            $.ajax({
                type: "GET",
                url: "https://www.linkedin.com/in/maximiliano-herrera-bocchicchio-79bba615/en"              
            }).done(function(response){
                $('h1').html(data);
            });
        };

        var writeProfileHTML = function () {
            var url = "https://query.yahooapis.com/v1/public/yql";
            var urlLinkedin = encodeURIComponent("https://www.linkedin.com/in/maximiliano-herrera-bocchicchio-79bba615/en");
            var query = "select content from data.headers where url=\""+ urlLinkedin+"\"";
            $.ajax({
                url: url,
                jsonp: "callback",
                dataType: "jsonp",
                data: {
                    q: query,
                    format: "json"
                },
                success: function(data){
                    $('data').html(data);
                }
            });
        }

    </script>
</head>
<body>
    <h1>This is a test don't worry :)</h1>
    <a href="https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=7883fei2khauib&redirect_uri=https%3A%2F%2Fherreramaxi.github.io%2Flinkedin%2Faccept&state=987654321&scope=r_basicprofile">
        <input type="button" id="button" title="login">
    </a>


    <script type="in/Login">
    </script>

    <div id="data"></div>
</body>
</html>